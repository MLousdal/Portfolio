---
export interface Props {
  body?: string;
  classes?: string;
  company: string;
  job: string;
  link?: Link;
  location: string;
  logo?: Logo;
  period: string;
}

export interface Logo {
  light: string;
  dark: string;
}

export interface Link {
  text: string;
  href: string;
}

const { classes, logo, link, period, location, job, company, body } =
  Astro.props;
---

<article
  class:list={[
    "p-4 gap-4 border-2 rounded-md max-w-none w-full shadow flex flex-col dark:shadow-white",
    classes,
  ]}
>
  <header>
    <h2 class="flex justify-between gap-6 mt-0 text-xl font-semibold">
      {job} @ {company}
      {period && <time class="h2">{period}</time>}
    </h2>
  </header>
  <div class="flex gap-4">
    {
      location && (
        <p class="flex items-center gap-2 text-lg font-medium">
          <i class="ico">location_on</i>
          {location}
        </p>
      )
    }
    {
      link && (
        <p class="flex items-center gap-2 text-lg font-medium">
          <>
            <i class="ico">open_in_new</i>
            <a href={link.href} target="_blank">
              {link.text}
            </a>
          </>
        </p>
      )
    }
  </div>
  <div
    class="flex flex-col-reverse items-start gap-4 prose dark:prose-invert md:items-center max-w-none md:flex-row lg:prose-lg prose-img:m-0 prose-p:m-0"
  >
    {body && <p>{body}</p>}
    {
      logo && logo.dark && (
        <img
          src={logo.dark}
          alt={company}
          class="hidden dark:md:block w-fit max-h-6 md:w-1/5"
        />
      )
    }
    {
      logo && logo.light && (
        <img
          src={logo.light}
          alt={company}
          class="hidden md:block dark:md:hidden w-fit max-h-6 md:w-1/5"
        />
      )
    }
  </div>
</article>
